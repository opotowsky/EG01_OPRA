<simulation xmlns:xi="http://www.w3.org/2001/XInclude">

  <control>
    <duration>1200</duration> <!-- 2400 normally, 1200 for testing -->
    <startmonth>1</startmonth>
    <startyear>2000</startyear>
    <decay>never</decay>
    <tolerance_resource>1e-5</tolerance_resource>
  </control>


  <archetypes>
    <spec> <lib>cycamore</lib> <name>GrowthRegion</name> </spec>
    <spec> <lib>cycamore</lib> <name>ManagerInst</name> </spec>
    <spec> <lib>cycamore</lib> <name>DeployInst</name> </spec>
    <spec> <lib>cycamore</lib> <name>Source</name> </spec>
    <spec> <lib>cycamore</lib> <name>Enrichment</name> </spec>
    <spec> <lib>cycamore</lib> <name>Reactor</name> </spec>
    <spec> <lib>cycamore</lib> <name>Storage</name> </spec>
    <spec> <lib>cycamore</lib> <name>Sink</name> </spec>
  </archetypes>

 
  <region>
    <name>GrowthRegion</name>
    <config> 
      <GrowthRegion> 
        <growth>
          <item>
            <commod>power</commod>
            <piecewise_function>
              <piece> 
                <start>0</start>
                <function>
                  <type>linear</type>
                  <params>100 0</params>
                </function>
              </piece>
            </piecewise_function>
          </item>
        </growth>
      </GrowthRegion> 
    </config>

    <institution> 
      <name>FC_Inst</name>
      <initialfacilitylist>
        <entry>
          <prototype>Source</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Enrichment</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>DU_Storage</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>LWR_cooling</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>LWR_storage</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Waste</prototype>
          <number>1</number>
        </entry>
      </initialfacilitylist>
      <config> 
        <ManagerInst>
          <prototypes>
            <val>Source</val>
            <val>Enrichment</val>
            <val>DU_Storage</val>
            <val>LWR</val>
            <val>LWR_storage</val>
            <val>LWR_cooling</val>
            <val>Waste</val>
          </prototypes>
        </ManagerInst>
      </config>
    </institution>

    <institution>
      <name>Init_LWRs</name>
      <config>
        <DeployInst>
          <prototypes>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
            <val>LWR</val>
          </prototypes>
          <n_build>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
            <val>3</val>
            <val>2</val>
          </n_build>
          <build_times>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
            <val>1</val>
          </build_times>
          <lifetimes>
            <val>181</val>
            <val>193</val>
            <val>205</val>
            <val>217</val>
            <val>229</val>
            <val>241</val>
            <val>253</val>
            <val>265</val>
            <val>277</val>
            <val>289</val>
            <val>301</val>
            <val>313</val>
            <val>325</val>
            <val>337</val>
            <val>349</val>
            <val>361</val>
            <val>373</val>
            <val>385</val>
            <val>397</val>
            <val>409</val>
            <val>421</val>
            <val>433</val>
            <val>445</val>
            <val>457</val>
            <val>469</val>
            <val>481</val>
            <val>493</val>
            <val>505</val>
            <val>517</val>
            <val>529</val>
            <val>541</val>
            <val>553</val>
            <val>565</val>
            <val>577</val>
            <val>589</val>
            <val>601</val>
            <val>613</val>
            <val>625</val>
            <val>637</val>
            <val>649</val>
          </lifetimes>
        </DeployInst>
      </config>
    </institution>
  </region>

  <facility>
    <name>Source</name>
    <config>
      <Source>
        <outcommod>NU</outcommod>
        <outrecipe>NU</outrecipe>
        <throughput>1e100</throughput>
      </Source>
    </config>
  </facility>


  <facility>
    <name>Enrichment</name>
    <config>
      <Enrichment>
        <feed_commod>NU</feed_commod>
        <feed_recipe>NU</feed_recipe>
        <product_commod>UOX</product_commod>
        <tails_commod>DU</tails_commod>
        <tails_assay>0.0025</tails_assay>
        <swu_capacity>1e100</swu_capacity>
        <initial_feed>1e100</initial_feed>
      </Enrichment>
    </config>
  </facility>

  
  <facility>
    <name>DU_Storage</name>
    <config>
      <Storage>
        <in_commods><val>DU</val></in_commods>
        <out_commods><val>DU_stored</val></out_commods>
        <residence_time>0</residence_time>
      </Storage>
    </config>
  </facility>


  <facility>
    <name>Waste</name>
    <config>
      <Sink>
        <in_commods>
          <val>DU_stored</val>
          <val>UOX_spent_stored</val>
          <val>Waste</val>
        </in_commods>
        <capacity>1e100</capacity>
      </Sink>
    </config>
  </facility>


  <xi:include href="lwr.xml" xpointer="xpointer(//My_include/*)"/>
  <xi:include href="recipe.xml" xpointer="xpointer(//My_include/*)"/>

</simulation>
